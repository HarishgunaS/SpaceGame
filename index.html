<!doctype html> 
<html lang="en"> 
<head> 
    <meta charset="UTF-8" />
    <title>Harishguna's Space Game</title>
    <script src="//cdn.jsdelivr.net/npm/phaser@3.11.0/dist/phaser.js"></script>
    <style type="text/css">
        body {
            margin: 0;
        }
    </style>
</head>
<body>
<script type="text/javascript">
    var config = {
        type: Phaser.AUTO,
        width: 800,
        height: 600,
        physics: {
            default: 'arcade',
            arcade: {
                debug: false
            }
        },
        scene: {
            preload: preload,
            create: create,
            update: update
        }
    };
    var game = new Phaser.Game(config);
    var cursors;
    var ship;
    var last_angle = 0;
    function preload()
    {
        
        this.load.image('ship', 'Assets/ship1.PNG')
    }
    function create()
    {
        ship = this.physics.add.sprite(400, 300, 'ship');
        ship.setCollideWorldBounds(true);
        ship.allowRotation = true;
        cursors = this.input.keyboard.createCursorKeys();
        
        
    }
    function update()
    {
        if (cursors.left.isDown)
        {
            ship.body.angularVelocity = -300;
        }
        else if (cursors.right.isDown)
        {
            ship.body.angularVelocity = 300;
        }
        else
        {
            ship.body.angularVelocity = 0;
        }
        if(cursors.up.isDown)
        {
            
            ship.setVelocityY(-100*Math.cos(ship.rotation));
            ship.setVelocityX(100*Math.sin(ship.rotation));
            last_angle = ship.rotation;
        }
        else
        {
            ship.setVelocityY(-25*Math.cos(last_angle));
            ship.setVelocityX(25*Math.sin(last_angle));
            
        }
        
    }
</script>
</body>
</html>
